<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Electrochemistry AI</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.4.0/axios.min.js"></script>
</head>
<body>
  <h1>Electrochemistry AI</h1>
  <textarea id="userInput" placeholder="Ask a question about electrochemistry"></textarea>
  <button onclick="sendQuery()">Submit</button>
  <div id="response"></div>

  <script>
    async function sendQuery() {
      const userInput = document.getElementById('userInput').value;
      const responseBox = document.getElementById('response');
      responseBox.innerText = "Loading...";
      
      try {
        const response = await axios.post(
          'https://api.openai.com/v1/chat/completions',
          {
            model: "gpt-4",
            messages: [{ role: "user", content: userInput }],
          },
          {
            headers: {
              "Content-Type": "application/json",
              "Authorization": `Bearer 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`,
            },
          }
        );
        const reply = response.data.choices[0].message.content;
        responseBox.innerText = reply;
        speakText(reply);
      } catch (error) {
        responseBox.innerText = "Error: " + error.message;
      }
    }

    function speakText(text) {
      const speech = new SpeechSynthesisUtterance(text);
      speech.lang = "en-US";
      window.speechSynthesis.speak(speech);
    }
  </script>
</body>
</html>
